<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic-Tac-Toe</title>
</head>
<body>
    <div id="box1">
        <button id="field0.1" onclick="gameLogic(0, 0, 'field0.1')"></button>
        <button id="field0.2" onclick="gameLogic(0, 1, 'field0.2')"></button>
        <button id="field0.3" onclick="gameLogic(0, 2, 'field0.3')"></button>
    </div>
    <div id="box2">
        <button id="field1.1" onclick="gameLogic(1, 0, 'field1.1')"></button>
        <button id="field1.2" onclick="gameLogic(1, 1, 'field1.2')"></button>
        <button id="field1.3" onclick="gameLogic(1, 2, 'field1.3')"></button>
    </div>
    <div id="box3">
        <button id="field2.1" onclick="gameLogic(2, 0, 'field2.1')"></button>
        <button id="field2.2" onclick="gameLogic(2, 1, 'field2.2')"></button>
        <button id="field2.3" onclick="gameLogic(2, 2, 'field2.3')"></button>
    </div>
    <p id="player">Player: X</p>
    <p id="gameStatus"></p>
    <button onclick="restartGame()">Restart</button>

    <script>
        let board = [["", "", ""], ["", "", ""], ["", "", ""]];
        let currentPlayer = "X";
        let gameOver = false;

        function gameLogic(row, col, id) {
            if (gameOver || board[row][col]) return;

            board[row][col] = currentPlayer;
            document.getElementById(id).textContent = currentPlayer;

            if (checkWin()) {
                document.getElementById("gameStatus").textContent = `${currentPlayer} wins!`;
                gameOver = true;
            } else if (isBoardFull()) {
                document.getElementById("gameStatus").textContent = "Draw!";
                gameOver = true;
            } else {
                currentPlayer = currentPlayer === "X" ? "O" : "X";
                document.getElementById("player").textContent = `Player: ${currentPlayer}`;
            }
        }

        function checkWin() {
            // Sprawdź wiersze i kolumny
            for (let i = 0; i < 3; i++) {
                if (board[i][0] === currentPlayer && board[i][1] === currentPlayer && board[i][2] === currentPlayer) return true;
                if (board[0][i] === currentPlayer && board[1][i] === currentPlayer && board[2][i] === currentPlayer) return true;
            }
            // Sprawdź przekątne
            if (board[0][0] === currentPlayer && board[1][1] === currentPlayer && board[2][2] === currentPlayer) return true;
            if (board[0][2] === currentPlayer && board[1][1] === currentPlayer && board[2][0] === currentPlayer) return true;

            return false;
        }

        function isBoardFull() {
            for (let row of board) {
                for (let cell of row) {
                    if (cell === "") return false;
                }
            }
            return true;
        }

        function restartGame() {
            board = [["", "", ""], ["", "", ""], ["", "", ""]];
            currentPlayer = "X";
            gameOver = false;
            document.getElementById("player").textContent = "Player: X";
            document.getElementById("gameStatus").textContent = "";
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 3; j++) {
                    document.getElementById(`field${i}.${j + 1}`).textContent = "";
                }
            }
        }
    </script>
</body>
</html>
